/**
 * When the .is-link class is added to any button, it will automatically place 
 * a matching icon based on the value of the href attribute.
 * By default, the right pointing arrow is used.
 */
@layer components {
  .button.is-link {
    &:before,
    &:after {
      /* The symbols from the font should always be bold. */
      @apply font-bold;
    }
  }

  /* Default icon. */
  .button.is-link:before,
  .group\/button .button.is-link:before {
    @apply content-arrow-east;
  }

  .group\/button:hover .button.is-link:before,
  .button.is-link:hover:before {
    @apply animate-jump-x;
  }

  /* External starts with http. */
  .button.is-link[href^='http']:before,
  .group\/button[href^='http'] .button.is-link:before {
    @apply order-last content-arrow-north-east;
  }

  .button.is-link[href^='http']:hover:before,
  .group\/button[href^='http']:hover .button.is-link:before {
    @apply animate-jump-xy;
  }

  /* Anchor starts with #. */
  .button.is-link[href^='#']:before,
  .group\/button[href^='#'] .button.is-link:before {
    @apply order-first mt-[0.1em] content-arrow-south;
  }

  .button.is-link[href^='#']:hover:before,
  .group\/button[href^='#']:hover .button.is-link:before {
    @apply animate-jump-y;
  }

  /* Button contains a link to a downloadable file */
  .button.is-link[href*='.pdf'],
  .button.is-link[href*='.qdf'],
  .group\/button[href*='.pdf'] .button.is-link,
  .group\/button[href*='.qdf'] .button.is-link {
    &:before {
      @apply col-start-1 row-start-1 content-arrow-south;
    }

    &:after {
      @apply !content-underscore-long;
      @apply col-start-1 row-start-1 flex pl-[0.12em];
      @apply translate-y-[0.5em];
    }
  }

  .button.is-link[href*='.pdf']:hover:before,
  .button.is-link[href*='.qdf']:hover:before,
  .group\/button[href*='.pdf']:hover .button.is-link:before,
  .group\/button[href*='.qdf']:hover .button.is-link:before {
    @apply !animate-jump-y;
  }

  /* Email starts with mailto. */
  .button.is-link[href^='mailto']:before,
  .group\/button[href^='mailto'] .button.is-link:before {
    mask: url('~/assets/symbols/mail.svg') no-repeat 50% 50%;
    mask-size: 1.2em 1.2em;
    @apply order-first w-[1em] h-[1em] content-empty bg-current;
  }

  .button.is-link[href^='mailto']:hover:before,
  .group\/button[href^='mailto']:hover .button.is-link:before {
    @apply animate-jump-scale;
  }

  /* Phone starts with tel:. */
  .button.is-link[href^='tel:']:before,
  .group\/button[href^='tel:'] .button.is-link:before {
    mask: url('~/assets/symbols/phone.svg') no-repeat 50% 50%;
    mask-size: 1.25em 1.25em;
    @apply order-first w-[1em] h-[1em] bg-current content-empty;
  }

  .button.is-link[href^='tel:']:hover:before,
  .group\/button[href^='tel:']:hover .button.is-link:before {
    @apply animate-wiggle;
  }
}
